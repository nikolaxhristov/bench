import{pipeline as o}from"files-pipeline";import{Distribution as e,Rome as a}from"@rometools/js-api";import{resolve as n}from"path";import s from"../../../lib/astro-community/astro-rome/lib/get-config.js";const t=await a.create({distribution:e.NODE});t.applyConfiguration(JSON.parse(await s("rome.json"))),await new o({path:new Map([["./samples/lightrix/files-pipeline/","./output/lightrix/files-pipeline/"]]),files:"**/*.{js,mjs,cjs,ts}",pipeline:{wrote:async i=>t.formatContent(i.buffer.toString(),{filePath:n(i.inputPath)}).content,failed:async i=>`Error: Cannot format file ${i.inputPath}!`,accomplished:async i=>`Formatted ${i.inputPath} in ${i.outputPath}.`,fulfilled:async i=>i.files>0?`Successfully formatted a total of ${i.files} JS and TS ${i.files===1?"file":"files"}.`:!1},logger:1}).process();
